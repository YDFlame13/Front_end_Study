<!DOCTYPE html>
<html lang="ch">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图片切换</title>
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./fa/css/all.css">
    <link rel="stylesheet" href="./css/base.css">
    <link rel="stylesheet" href="./css/index.css">
    <script>
        window.onload=function(){
            //获取按钮元素
            var nextbutton=document.getElementById("next");
            var lastbutton=document.getElementById("last");
            var imgsrcs=["./img/01.jpg","./img/02.jpg","./img/03.jpg","./img/04.jpg","./img/05.jpg","./img/06.jpg"];
            var mimg=document.getElementById("liimg");
            var iimgs=document.getElementsByTagName("span");
            var iimg=iimgs[0];
            var iimg2=iimgs[1];
            iimg2.innerText=imgsrcs.length;
            //设置事件响应函数
            //第一种解决方案
            nextbutton.onclick=function(){
                for(var i=0;i<imgsrcs.length;++i){
                    var srci=new RegExp(imgsrcs[i]);
                    if(srci.test(mimg.src)){
                        if(i+1>=imgsrcs.length)mimg.src=imgsrcs[0],iimg.innerText=1;
                        else mimg.src=imgsrcs[i+1],iimg.innerText=i+2;
                        break;
                    }
                }
            }
            lastbutton.onclick=function(){
                for(var i=0;i<imgsrcs.length;++i){
                    var srci=new RegExp(imgsrcs[i]);
                    if(srci.test(mimg.src)){
                        if(i-1<0)mimg.src=imgsrcs[imgsrcs.length-1],iimg.innerText=6;
                        else mimg.src=imgsrcs[i-1],iimg.innerText=i;
                        break;
                    }
                }
            }
            //第二种解决方案
            // var index=0
            // nextbutton.onclick=function(){
            //     index++;
            //     index%=imgsrcs.length;
            //     mimg.src=imgsrcs[index];
            //     iimg.innerText=index+1;
            // }
            // lastbutton.onclick=function(){
            //     index--;
            //     if(index<0)index+=imgsrcs.length;
            //     index%=imgsrcs.length;
            //     mimg.src=imgsrcs[index];
            //     iimg.innerText=index+1;
            // }
        }
    </script>
</head>
<body>
    <ul>
        <p>
            <span>1</span>/<span>6</span>
        </p>
        <li>
            <img id="liimg" src="./img/01.jpg" alt="">
        </li>
    </ul>
    <div class="inputd">
        <input id="next" type="button" value="下一张">
        <input id="last" type="button" value="上一张">
    </div>
</body>
</html>